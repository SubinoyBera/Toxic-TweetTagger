schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m src.components.data_ingestion
    deps:
    - path: src/components/data_ingestion.py
      hash: md5
      md5: e694197df2cc46b5492049e4b6e4bb9b
      size: 3234
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    outs:
    - path: artifacts/data_ingestion/raw/tweet_data.csv
      hash: md5
      md5: be2b77ea43001fb67fd2c5c4b00310b2
      size: 23547495
    - path: artifacts/data_ingestion/test_data.parquet
      hash: md5
      md5: de58654f7cda58763ee99ae2dd80ac56
      size: 2952685
    - path: artifacts/data_ingestion/train_data.parquet
      hash: md5
      md5: 6d20167d65262decbfa969dd45a0caf9
      size: 11741606
  data_validation:
    cmd: python -m src.components.data_validation
    deps:
    - path: artifacts/data_ingestion
      hash: md5
      md5: 4cf402b1761f0582bae33d77dc044558.dir
      size: 38241786
      nfiles: 3
    - path: src/components/data_validation.py
      hash: md5
      md5: 93acd8f9b116e10498bb88b53f38d9ca
      size: 8827
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    outs:
    - path: artifacts/data_validation/validation_status.txt
      hash: md5
      md5: 5707c8fdabc46afc010913ab693368df
      size: 30
    - path: reports/data_drift.json
      hash: md5
      md5: f8c1c8d4812b85a95b0e8ecfcf715df4
      size: 765
  data_preprocessing:
    cmd: python -m src.components.data_preprocessing
    deps:
    - path: artifacts/data_ingestion/train_data.parquet
      hash: md5
      md5: 6d20167d65262decbfa969dd45a0caf9
      size: 11741606
    - path: artifacts/data_validation/validation_status.txt
      hash: md5
      md5: 5707c8fdabc46afc010913ab693368df
      size: 30
    - path: src/components/data_preprocessing.py
      hash: md5
      md5: f10d596ce887020a0f66e988df90a0d7
      size: 5421
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    outs:
    - path: artifacts/data_preprocessing/preprocessed_train_data.feather
      hash: md5
      md5: fa5ec798531b534e8664cf4fbbb28fd3
      size: 7962874
  feature_engineering:
    cmd: python -m src.components.feature_engineering
    deps:
    - path: artifacts/data_preprocessing
      hash: md5
      md5: 97431ec91be41310d37f53fae2c2272d.dir
      size: 9961964
      nfiles: 2
    - path: src/components/feature_engineering.py
      hash: md5
      md5: e88b9ad0b04fcda1b8e2ffb8084e4d6c
      size: 3797
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    params:
      config/params.yaml:
        feature_engineering.max_features: 1000
    outs:
    - path: artifacts/feature_engineering/train_data.feather
      hash: md5
      md5: 349d4ad5d02ce0d5efc21224fb8f1e93
      size: 10480810
    - path: models/vectorizer_meta.txt
      hash: md5
      md5: 2e97dd0aa1c85f6fb9f867c193fb1056
      size: 121
  model_training:
    cmd: python -m src.components.model_training
    deps:
    - path: artifacts/feature_engineering/train_data.feather
      hash: md5
      md5: 349d4ad5d02ce0d5efc21224fb8f1e93
      size: 10480810
    - path: src/components/model_training.py
      hash: md5
      md5: f78f5e987c22f21214dbdad9ff218dcd
      size: 3521
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    params:
      config/params.yaml:
        model_training.hyperparameters:
          n_estimators: 100
          learning_rate: 0.1
          max_depth: 7
          gamma: 0.1
          reg_lambda: 0
    outs:
    - path: models/model_meta.txt
      hash: md5
      md5: 9ea7086a385a718abcca578db07a17b3
      size: 166
  model_evaluation:
    cmd: python -m src.components.model_evaluation
    deps:
    - path: artifacts/data_ingestion/test_data.parquet
      hash: md5
      md5: de58654f7cda58763ee99ae2dd80ac56
      size: 2952685
    - path: models/model_meta.txt
      hash: md5
      md5: 9ea7086a385a718abcca578db07a17b3
      size: 166
    - path: src/components/data_preprocessing.py
      hash: md5
      md5: f10d596ce887020a0f66e988df90a0d7
      size: 5421
    - path: src/components/model_evaluation.py
      hash: md5
      md5: d815c847147297a43b8fe60e62923ab1
      size: 9428
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    - path: src/script/model_wrapper.py
      hash: md5
      md5: bee262a1a0aadb13d4d36dd27500577a
      size: 1620
    params:
      params.yaml:
        model_training.model_name: XGB-test01
    outs:
    - path: reports/experiment.json
      hash: md5
      md5: a9fa47108534072846b6be3a66bd193c
      size: 82
    - path: reports/metrics.json
      hash: md5
      md5: 5e66de2d6d8f657b4e033905f372771d
      size: 242
  model_registration:
    cmd: python -m src.operations.register_model
    deps:
    - path: reports/experiment.json
      hash: md5
      md5: a9fa47108534072846b6be3a66bd193c
      size: 82
    - path: src/core/configuration.py
      hash: md5
      md5: a43ba3242f18d9deb9d5289dbcb7be3b
      size: 9829
    - path: src/operations/register_model.py
      hash: md5
      md5: 7bb513e0b21258d7076888b10adfa759
      size: 5236
